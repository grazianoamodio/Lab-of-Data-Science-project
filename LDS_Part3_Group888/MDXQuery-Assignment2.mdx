WITH
  MEMBER [Measures].[TotalCrimeGravity] AS
    Sum([Guns].[Gun Type].[Gun Type].Members, [Measures].[Crime Gravity])

MEMBER [Measures].[PercentageWRTTotalCrimeGravity] AS
    IIF(
      [Measures].[Crime Gravity] = 0,
      NULL,
      ([Measures].[Crime Gravity] / [Measures].[TotalCrimeGravity])
    ), FORMAT_STRING = "Percent"

MEMBER [Measures].[CrimeGravityPerGunType] AS
    Sum([Guns].[Gun Type].CurrentMember, [Measures].[Crime Gravity])

SELECT
  {
    [Measures].[TotalCrimeGravity],
    [Measures].[CrimeGravityPerGunType],
    [Measures].[PercentageWRTTotalCrimeGravity]
  } ON COLUMNS,
  [Guns].[Gun Type].[Gun Type].Members ON ROWS
FROM [Group ID 888 DB]
